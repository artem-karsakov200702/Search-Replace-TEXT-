Implementation Plan — TextSearchReplace
1. Краткое описание задачи
Разработать консольное приложение на языке C++ для поиска и замены текста в JSON-файлах.
Программа выполняет:
•	Генерацию тестовых JSON-файлов (с ошибками и без ошибок)
•	Интерактивный поиск текста во всех объектах файлов
•	Замену текста с учетом регистра
•	Сохранение результатов обратно в исходные файлы
•	Измерение производительности обработки
2. Цель и ожидаемый результат
Цель работы — освоить работу с JSON в C++, алгоритмы поиска подстрок, замену текста, обработку больших объемов данных и измерение производительности.
Ожидаемый результат:
Консольное приложение (.exe), которое:
•	Генерирует файлы data_0.json, data_1.json... (~0.7MB каждый)
•	Обрабатывает одиночные файлы или все файлы (all)
•	Показывает таблицу результатов поиска/замены
•	Измеряет время загрузки и обработки
•	Восстанавливает обновленные файлы
3. Этапы и задачи реализации
Анализ формата входных данных
•	Структура JSON: массив объектов [{"name": "string", "content": "string"}, ...]
•	Обязательные поля: name (строка), content (строка)
•	Допустимые ошибки: пустые name, отсутствующие поля, некорректный JSON
Проектирование структуры программы
text
src/          — основной код .cpp
include/      — заголовочные файлы .hpp
data/         — тестовые JSON-файлы
docs/         — документация
Основные функции:
•	findAllPositions() — поиск всех вхождений подстроки
•	replaceAllOccurrences() — замена всех вхождений
•	extractTextObjects() — парсинг JSON в структуры
•	generateTestFiles() — генерация тестовых данных
•	saveObjectsToOriginalFiles() — сохранение результатов
Реализация генерации и проверки файлов
•	Генерация корректных файлов с текстом "foo", "bar", "test"
•	Создание файлов с ошибками:
•	Некорректный JSON ([[{...)
•	Отсутствующие поля content
•	Пустые массивы []
•	Пустые имена файлов
•	Размер файлов: 300-800 символов на объект, 15 объектов на файл
Парсинг и преобразование данных
•	Использование nlohmann/json для парсинга
•	Извлечение в vector<TextObject>:
struct TextObject {
string name;
string content;
int found = 0;
int replaced = 0;
};
•	Обработка исключений при некорректном JSON
Алгоритмы поиска и замены
•	findAllPositions() — алгоритм поиска с поддержкой регистра
•	replaceAllOccurrences() — эффективная замена с резервированием памяти
•	Поддержка case-sensitive/case-insensitive режимов
•	Оптимизация для больших объемов (>100k объектов)
Валидация и обработка данных
•	Проверка наличия файлов data_N.json
•	Игнорирование некорректных JSON без остановки
•	Фильтрация объектов без поля name
•	Подсчет обработанных файлов и объектов
Вывод результатов пользователю
•	Интерактивное меню: 1) Генерация, 2) Поиск/замена, 3) Выход
•	Таблица результатов для <50 объектов:
Файл                    Найдено   Заменено
file0_obj0.txt          	     3   		3
---------------------------------------------------
ИТОГО                              45                 45
•	Статистика времени: загрузка + обработка (мс)
•	Подтверждение сохранения файлов
Тестирование и исправление ошибок
•	Тестирование на 1, 10, 100, 1000 файлах
•	Проверка корректных и ошибочных JSON
•	Сравнение времени для case-sensitive/insensitive
•	Масштабирование до 100k+ объектов
Оформление и подготовка итоговой версии
•	Сборка .exe в Visual Studio (C++17)
•	Русская локализация (setlocale(LC_ALL, "Russian"))
•	Подробная справка (showHelp())
•	GitHub-репозиторий с полной структурой
4. План-график выполнения
Этап	Срок выполнения (в днях)
1. Анализ формата данных	1–2
2. Проектирование структуры	3–4
3. Реализация генерации файлов	5–7
4. Парсинг JSON и структуры	8–10
5. Алгоритмы поиска/замены	11–14
6. Интерактивный интерфейс	15–17
7. Вывод и сохранение результатов	18–20
8. Тестирование и оптимизация	21–25
9. Оформление итоговой версии	26–28
5. Ресурсы
Язык программирования: C++17
Среда разработки: Microsoft Visual Studio
Библиотеки: nlohmann/json
Входные данные: JSON-массив объектов [{"name": "file.txt", "content": "текст"}, ...]
Документация:
•	nlohmann/json
•	C++17 std::string алгоритмы
